{% style %}
  {%- for block in section.blocks -%}
    {%- if block.settings.title != blank -%}
      .swatch[data-handle="{{ block.settings.title | handleize }}"] {
        --swatch-background: {{ block.settings.swatch_color }};
      }
    {%- endif -%}
  {%- endfor -%}
{% endstyle %}

{% schema %}
{
  "name": "t:sections.swatches.name",
  "tag": "section",
  "blocks": [
    {
      "type": "swatch",
      "name": "t:sections.swatches.blocks.swatch.name",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "t:sections.swatches.blocks.swatch.settings.title.label"
        },
        {
          "type": "color",
          "id": "swatch_color",
          "label": "t:sections.swatches.blocks.swatch.settings.swatch_color.label"
        }
      ]
    }
  ]
}
{% endschema %}
